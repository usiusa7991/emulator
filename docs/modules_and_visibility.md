# モジュールと可視性

Rustのコードはモジュールという単位で管理されます。デフォルトでは、モジュール内の要素（構造体、関数など）はすべてプライベートであり、他のモジュールからアクセスすることはできません。

今回、`src/CPU.rs`から`src/register.rs`で定義されている`Registers`構造体にアクセスしようとした際に、コンパイルエラーが発生しました。これは、`Registers`構造体がプライベートになっていたためです。

この問題を解決するには、`Registers`構造体の定義に`pub`キーワードを追加して、可視性をパブリックにする必要があります。

```rust
// src/register.rs

pub struct Registers {
  // ...
}
```

同様に、構造体のフィールドもデフォルトでプライベートです。他のモジュールからフィールドにアクセスする必要がある場合は、フィールドにも`pub`キーワードを追加する必要があります。

```rust
// src/register.rs

pub struct Registers {
  pub a: u8,
  pub b: u8,
  // ...
}
```
